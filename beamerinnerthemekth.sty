\mode<presentation>

% Title page
\defbeamertemplate*{title page}{kth}[1][]%
{%
  \leavevmode%
  \hbox{%
    \hskip-\beamer@leftmargin%
    \begin{beamercolorbox}[wd=\titlepagelogosize, sep=0.25\titlepagelogosize,
        ht=\dimexpr\paperheight-\titlepagebannerheight, dp=0pt, #1]{title page
        logo in head}%
      \includegraphics[width=0.5\titlepagelogosize,
        keepaspectratio]{KTH_Logotyp_RGB_2013.pdf}%
      \vskip\titlepagelogodepth%
    \end{beamercolorbox}%
    \hskip\titlepagetitleskip%
    \begin{beamercolorbox}[wd=\dimexpr\paperwidth-\beamer@leftmargin-\beamer@rightmargin-\titlepagetitleskip,
        ht=\dimexpr\paperheight-\titlepagebannerheight,
        center,
        #1]{title page header}%
      \usebeamerfont{title}\strut\inserttitle\par%
      \ifx\insertsubtitle%
        \usebeamerfont{title}\strut\insertsubtitle\par%
      \fi%
      \vskip20pt%
      \usebeamerfont{author}\strut\insertauthor\par%
      \vskip10pt%
      \usebeamerfont{institute}\strut\insertinstitute\par%
      \usebeamerfont{date}\strut\insertdate%
    \end{beamercolorbox}%
  }
  \hspace*{-0.3\beamer@leftmargin}%
  \begin{beamercolorbox}[wd=\paperwidth,leftskip=0pt,ht=\titlepagebannerheight,#1]{title page
      banner}%
    \tikzexternaldisable%
    \begin{tikzpicture}%
      \begin{scope}[x=1pt,y=1pt,draw=white,rounded corners=3pt,line
          width=0.15mm]%
        \node [inner sep=0pt] at (0,0) {}; %Required to make bottom line not
                                %end up at y=0, due to tikz. Can be done in
                                %another way?
        % Can be simplified further with Qrrbrbirlbel's tikzlibrarypaths.ortho.tex:
        \draw (0,23) -| (50,35) -- (\the\paperwidth,35);%
        \draw (0,30) -| (127,100) -| (249,51) -| (288,84) -- (\the\paperwidth,84);%
        \draw (0,35) -| (28,83) -| (148,19) -| (232,94) -| (295,27) -- (\the\paperwidth,27);%
        \draw (0,84) -| (18,63) -| (46,79) -| (78,68) -| (273,111) -| (341,74) -- (\the\paperwidth,74);%
        \draw (0,94) -| (35,51) -| (176,78) -| (326,64) -- (\the\paperwidth,64);%
      \end{scope}%
    \end{tikzpicture}%
    \tikzexternalenable%
  \end{beamercolorbox}%
}

% Items
\setbeamertemplate{items}[square]
\setbeamertemplate{sections/subsections in toc}[square]

\mode<all>
